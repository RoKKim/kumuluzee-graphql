language: java
dist: trusty
jdk:
- openjdk8
env:
  global:
  - secure: GlPp79GCu82Qa7BW/Y/tycRpirRLehr2b84X8h9vrxFBC8Q0Fzdij7pXg8p0dNjeSBZ3A9pPI5f3JxqIN/HEtMzYVK9pUsawZ0G38M+3w4mWviKor+4wr10IYUdFqN4Rt0vkD43LY+kx0JjnuJEiTyt3XvN6JWn0C8C3/GKAGK45/XDWzzmpbBCCa1aKjZt2l+SCxuqs8Kdc+RLmx5z+SKYfvrmaNWKyP188KuRPcnIcf7L9P3q8lBXemlrq/ealSkWwQNorF0gNncJUyKU0RoHWBaNGeO7jt/9H9wTcH4UpcSnDkwAclx4SbRBUi1c71ZIEX06Q90wdimvnThIj4yZE7Usx+3M/bVEYhktsqnJ12PZuV8aH24gYMMXBZiSX8wdx/23qsCPauucP/Jip5mBUH9QHqpB6tZQaA2APWcTr8MPl2//KMGUGcc5/7Sgss6V7477MQNxKdYnLvIa+J7Y42SRq6NGP0deeLkiTpFxgL7fpKQNo44jqFvRUeWKp+IB8LEEW9fuawJ7FZSf91KFxT41vnb+5uCA44nlteoiERaHWsUluLc1UveqgijIPV2JdAqegmsahgZq5uMcgpEhe8pyf46ZQt9arx//SfEd0T7B4PUu0V6kKgXEganlEEalcEqetm7wPi5x1wCr9XETeuctM1NrsrsL7qcwh6pU=
  - secure: GGYrIhNSBXzwY6r60EEkAwKGsmpQkm3v0XDlVqYpAgwpcL3AYEAt2rSZzYw6xVjSpdY57PtZ2AIpXhfTboQqM1f4rCF9owAWrO/s5OEjP9/LO0DTIHW0ldCZiGKBMWFAcI+tbfETWGyw1Om962eOsGq4LFRziVz1RYLGqWgpeWUraK29pKH800YK6BjdDVVhkFDXmRrIOJbWywhlabRvX7oSUn02T0DCHKu7CFfyvDg/8wD6t+aUMUgnx9mPmVP+9O3pqznLsVgCdU/iwiN6iH7vgR9heOZRXMzAsFimFreQO8ULeks20acmUiscOAuMCqomJexNFLB3RpMDATtfbsBocaTuNDnHjlmGJ/GCXavPDWhmAPUoDLctN1P/9yNwoyLSC9KhCGRzekCfWL5BuMQJNJEOJGNRdH36x0huXU908wJXZcyolYPhG+0EMVaEIq+Svz7QkdkQOqLOtFvCpyObpJwFD+V1EJb7lMQPQXGE7wHkUI+NXOthsOgkSGyp9mnPAODLdJK2GW87RQ5Drt79FOiJXHaTjDHCBWzxboWNVRnJ9mz0yXWFv7vK04KRmlA9xSK6imr8ZbzcZUAap9XOKS1t21NP2+6dDgGUDiZQgSm/yCTpywnIrviMrAAeMFZ6MrCjN+UfsA9T9KuWLQIQ5AfdZdx/0bs3647+TlY=
  - secure: kLb6cSz8yzhNrFQuK1T5RNuxWKdailSwir6k3RhrScB1PLMZ3jjhCYCzMRAigMFEhTWkVcaB22YsZoZAFzf2BOQqOTOs5oc/m/yfI6tnt365O3YGR9S73PdIf9lLnI8HKQBxOogmUgH2PHmsfaaydfvZdm+eG+upwuM1ozwbcCraMqbrsWN1+m551N+HcLK72IoupAd3C0C2voRp8xZxxBSl0qNPxX/Nlq3epVRaECWQdRKTkwv6mJ9BzAh+5NinvA3C6Mpyj3YxZXo16RMbad9NrPBNgFqtgzq5P0qizzuER+VxI4OxrEjds1Ntksjh6R5IQkLTbgol57jumqw9BvsEpMMbuaorjpwcFO9ZO+PI6XPFetz27PvLmfp2/pShJZ+un4J4zFE0uHC5AW4/0a1MfvHnsAtaXvZL97ENVGdIvU2V6SDHAbH1wb5f2Vx+G276VCFMgxkCDgw074q1XQ3OYNNX0BUtYQvuiHOoyYUL4rEn+jPkiXobUTFlZ1aHmygjuLMzYQu5ub5R/ufBs+Y9wBoSB7/ZawydOQO2E7N407lK0oDlnXmqliiilKPbedzfQBGY6vdcvdjaAk5SJuGndszB8JTdiUC1rqJ6fxj3SDLYLZN12SWIoFjmL5uBacaPUNLZN9i00texEMxBubclgG3ypvsQcf7KEnaDlAw=
cache:
  directories:
  - "$HOME/.m2"
install: mvn clean install -DskipTests=true -V -U
script: mvn test
after_success:
- if [[ $TRAVIS_PULL_REQUEST == "false" && ($TRAVIS_BRANCH == "master" || $TRAVIS_TAG)
  ]]; then openssl aes-256-cbc -K $encrypted_ccb2dd3a0178_key -iv $encrypted_ccb2dd3a0178_iv
  -in gpg.tar.gz.enc -out gpg.tar.gz -d; tar xvf gpg.tar.gz; mvn source:jar javadoc:jar
  deploy -Pdeploy -DskipTests=true --settings ./settings.xml; fi
